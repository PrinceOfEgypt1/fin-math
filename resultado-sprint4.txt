â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              VERIFICAÃ‡ÃƒO SPRINT 4 - FINMATH                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ 1. ESTRUTURA GERAL DO PROJETO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.
â”œâ”€â”€ 00_executar_sprint3.sh
â”œâ”€â”€ 00_validacao_completa.sh
â”œâ”€â”€ 01_bootstrap_fenix.sh
â”œâ”€â”€ 01_limpar_ambiente.sh
â”œâ”€â”€ 02_corrigir_branch.sh
â”œâ”€â”€ 02_seed_fenix_files.sh
â”œâ”€â”€ 03_adicionar_rotas_server.sh
â”œâ”€â”€ 04_validar_antes_commit.sh
â”œâ”€â”€ 06_fenix_patch_forbidden_guard_v2.sh
â”œâ”€â”€ 07_fenix_infra_pr_local_test.sh
â”œâ”€â”€ 08_fenix_mark_pr_infra.sh
â”œâ”€â”€ 09_fenix_combo_infra.sh
â”œâ”€â”€ 10_fenix_open_and_label_pr.sh
â”œâ”€â”€ 11_fenix_branch_protection_main.sh
â”œâ”€â”€ 12_fenix_watch_ci.sh
â”œâ”€â”€ 13_fenix_merge_current_pr.sh
â”œâ”€â”€ 14_fenix_pr_approve_and_merge.sh
â”œâ”€â”€ 15_fenix_enable_repo_auto_merge.sh
â”œâ”€â”€ 16_fenix_show_branch_protection.sh
â”œâ”€â”€ 18_relax_protection_for_bootstrap.sh
â”œâ”€â”€ 19_merge_or_auto_current_pr.sh
â”œâ”€â”€ 21_git_safe_checkout_main.sh
â”œâ”€â”€ 23_watch_auto_merge.sh
â”œâ”€â”€ 24_watch_pr_by_number.sh
â”œâ”€â”€ 25_finalize_after_merge.sh
â”œâ”€â”€ 26_unstash_last.sh
â”œâ”€â”€ 27_inspect_pr_blockers.sh
â”œâ”€â”€ 28_enable_dispatch_and_trigger_fenix_ci.sh
â”œâ”€â”€ 28_temp_require_only_guard.sh
â”œâ”€â”€ 29_resolve_stash_conflicts_keep_main.sh
â”œâ”€â”€ 31_checkout_pr_branch_clean.sh
â”œâ”€â”€ 32_trigger_fenix_ext_on_branch.sh
â”œâ”€â”€ 33_reduce_checks_wait_merge_restore.sh
â”œâ”€â”€ 34_remove_embedded_repo.sh
â”œâ”€â”€ 35_fenix_automerge_now.sh
â”œâ”€â”€ 38_fenix_ci_green_bootstrap.sh
â”œâ”€â”€ 39_fenix_smoke.sh
â”œâ”€â”€ 40_fenix_assert_install.sh
â”œâ”€â”€ 41_merge_now_or_diagnose.sh
â”œâ”€â”€ 44_debug_merge_blockers.sh
â”œâ”€â”€ 45_guard_dispatch_and_merge.sh
â”œâ”€â”€ 46_guard_merge_compat.sh
â”œâ”€â”€ 47_force_merge_with_protection_roundtrip.sh
â”œâ”€â”€ 48_sync_main_via_pr.sh
â”œâ”€â”€ 50_stop_tracking_artifacts_via_pr.sh
â”œâ”€â”€ 51_show_divergence.sh
â”œâ”€â”€ 51_wait_and_merge_37.sh
â”œâ”€â”€ 52_main_reset_to_remote.sh
â”œâ”€â”€ 54_post_sync_housekeeping.sh
â”œâ”€â”€ 56_verify_fenix_local.sh
â”œâ”€â”€ 57_finish_gitignore_pr_and_sync.sh
â”œâ”€â”€ 57_push_gitignore_via_pr.sh
â”œâ”€â”€ 60_ingest_docs_to_rag.sh
â”œâ”€â”€ 61_enable_policies_and_checks.sh
â”œâ”€â”€ 61_verify_policy_patch.sh
â”œâ”€â”€ 62_patch_system_playbooks.sh
â”œâ”€â”€ 63_fenix_smoke_local.sh
â”œâ”€â”€ 64_commit_pr_playbooks.sh
â”œâ”€â”€ 66_finish_pr41_and_cleanup.sh
â”œâ”€â”€ 70_wire_docs_to_fenix.sh
â”œâ”€â”€ 71_push_rag_docs_via_pr.sh
â”œâ”€â”€ 72_extract_docx_to_md.sh
â”œâ”€â”€ 96_desfazer_merge_local.sh
â”œâ”€â”€ 97_push_via_pr_sprint3.sh
â”œâ”€â”€ 98_finalizar_push_sprint3.sh
â”œâ”€â”€ 99_validacao_final_corrigida.sh
â”œâ”€â”€ 99_validacao_final_sprint3.sh
â”œâ”€â”€ ANALISE-E-PROXIMOS-PASSOS-20251025-012327.md
â”œâ”€â”€ ANALISE-E-PROXIMOS-PASSOS-20251025-013416.md
â”œâ”€â”€ ANALISE-PROGRESSO-20251025-014527.md
â”œâ”€â”€ Button_A11y.tsx
â”œâ”€â”€ CHANGELOG.md
â”œâ”€â”€ Input_A11y.tsx
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ SkipLink.tsx
â”œâ”€â”€ _snapshot_reports
â”‚Â Â  â”œâ”€â”€ dirs.all.txt
â”‚Â Â  â”œâ”€â”€ ext.count.txt
â”‚Â Â  â”œâ”€â”€ files.csv.txt
â”‚Â Â  â”œâ”€â”€ files.json.txt
â”‚Â Â  â”œâ”€â”€ files.pdf.txt
â”‚Â Â  â”œâ”€â”€ lines_per_file.tsv
â”‚Â Â  â”œâ”€â”€ paths.all.txt
â”‚Â Â  â”œâ”€â”€ sha256.txt
â”‚Â Â  â”œâ”€â”€ todos.sample.txt
â”‚Â Â  â”œâ”€â”€ tree.txt
â”‚Â Â  â””â”€â”€ wc.txt
â”œâ”€â”€ analise-finmath-v2.sh
â”œâ”€â”€ analise-progresso-finmath.sh
â”œâ”€â”€ api
â”‚Â Â  â””â”€â”€ openapi.yaml
â”œâ”€â”€ apps
â”‚Â Â  â””â”€â”€ demo
â”œâ”€â”€ docs
â”‚Â Â  â”œâ”€â”€ ARCHITECTURE.md
â”‚Â Â  â”œâ”€â”€ README.md
â”‚Â Â  â”œâ”€â”€ TESTING.md
â”‚Â Â  â”œâ”€â”€ a11y
â”‚Â Â  â””â”€â”€ archive
â”œâ”€â”€ eslint.config.js
â”œâ”€â”€ finmath_strict_prune.sh
â”œâ”€â”€ force_merge_and_finish.sh
â”œâ”€â”€ globals.css
â”œâ”€â”€ package.json
â”œâ”€â”€ packages
â”‚Â Â  â”œâ”€â”€ api
â”‚Â Â  â”œâ”€â”€ engine
â”‚Â Â  â””â”€â”€ ui
â”œâ”€â”€ plano-desenvolvimento-sprint3-v2.sh
â”œâ”€â”€ plano-sprint3-20251025-024610
â”‚Â Â  â”œâ”€â”€ README.md
â”‚Â Â  â”œâ”€â”€ docs
â”‚Â Â  â”œâ”€â”€ golden-files
â”‚Â Â  â”œâ”€â”€ scripts
â”‚Â Â  â””â”€â”€ tests
â”œâ”€â”€ plano-sprint3-20251025-025322
â”‚Â Â  â”œâ”€â”€ README.md
â”‚Â Â  â”œâ”€â”€ docs
â”‚Â Â  â”œâ”€â”€ golden-files
â”‚Â Â  â”œâ”€â”€ scripts
â”‚Â Â  â””â”€â”€ tests
â”œâ”€â”€ playwright.config.ts
â”œâ”€â”€ pnpm-lock.yaml
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ price_output.pdf
â”œâ”€â”€ resultado-sprint4.txt
â”œâ”€â”€ run-debug.log
â”œâ”€â”€ sac_output.csv
â”œâ”€â”€ sac_output.pdf
â”œâ”€â”€ sac_output_v2.csv
â”œâ”€â”€ scripts
â”‚Â Â  â””â”€â”€ 95_pos_merge_github.sh
â”œâ”€â”€ sprint4_finalizacao.sh
â”œâ”€â”€ sprint4_inicio.sh
â”œâ”€â”€ sprint4_part1_a11y.sh
â”œâ”€â”€ sprint4_part2_e2e.sh
â”œâ”€â”€ sprint4_part3_a11y_audit.sh
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ tests
â”‚Â Â  â”œâ”€â”€ a11y
â”‚Â Â  â”œâ”€â”€ e2e
â”‚Â Â  â”œâ”€â”€ fixtures
â”‚Â Â  â”œâ”€â”€ integration
â”‚Â Â  â”œâ”€â”€ unit
â”‚Â Â  â””â”€â”€ utils
â”œâ”€â”€ tools
â”‚Â Â  â”œâ”€â”€ board-management
â”‚Â Â  â””â”€â”€ scripts
â”œâ”€â”€ tsconfig.base.json
â”œâ”€â”€ verificar-sprint4.sh
â”œâ”€â”€ verify_code_sync.sh
â””â”€â”€ verify_out.log

33 directories, 121 files

âœ… 2. ACESSIBILIDADE - ITENS COMPLETOS (60%)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2.1. Design System A11y
   âŒ docs/design-system/ NÃƒO encontrado

2.2. Tokens SemÃ¢nticos (Tailwind)
   âœ… tailwind.config.js existe
   Buscando tokens semÃ¢nticos (--surface, --text):

2.3. Foco VisÃ­vel (CSS)
   âœ… Arquivo de estilos existe
   Buscando :focus-visible:
packages/ui/src/styles/globals.css:  :focus-visible {

2.4. NavegaÃ§Ã£o por Teclado (Componentes)
   âœ… DiretÃ³rio de componentes existe
   Componentes principais:
1
packages/ui/src/components/ExplainPanel.tsx

2.5. ARIA Labels (ExplainPanel)
   âœ… ExplainPanel.tsx existe
   Buscando aria- attributes:

âŒ 3. TESTES E2E - ITENS PENDENTES (0%)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
3.1. ConfiguraÃ§Ã£o Playwright
   âœ… playwright.config.ts EXISTE
import { defineConfig, devices } from "@playwright/test";

/**
 * ConfiguraÃ§Ã£o Playwright para FinMath
 *
 * Testes E2E com:
 * - MÃºltiplos browsers (Chromium, Firefox, WebKit)
 * - Viewport responsivo
 * - Screenshots e vÃ­deos em falhas
 * - RelatÃ³rios HTML
 * - ParalelizaÃ§Ã£o
 */
export default defineConfig({
  testDir: "./tests/e2e",

  /* Timeout por teste */
  timeout: 30 * 1000,

  /* ConfiguraÃ§Ãµes globais */
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,

  /* Reporter */
  reporter: [
    ["html", { outputFolder: "test-results/html" }],
    ["json", { outputFile: "test-results/results.json" }],
    ["junit", { outputFile: "test-results/junit.xml" }],
    ["list"],
  ],

  /* ConfiguraÃ§Ãµes compartilhadas */
  use: {
    /* URL base */
    baseURL: "http://localhost:5173",

    /* Coletar traces em falhas */
    trace: "on-first-retry",

    /* Screenshots */
    screenshot: "only-on-failure",

    /* VÃ­deo */
    video: "retain-on-failure",

    /* Timeout de aÃ§Ã£o */
    actionTimeout: 10 * 1000,

    /* Timeout de navegaÃ§Ã£o */
    navigationTimeout: 15 * 1000,
  },

  /* Configurar servidor local */
  webServer: {
    command: "pnpm dev",
    url: "http://localhost:5173",
    reuseExistingServer: !process.env.CI,
    timeout: 120 * 1000,
  },

  /* Projetos - Browsers diferentes */
  projects: [
    {
      name: "chromium",
      use: {
        ...devices["Desktop Chrome"],
        viewport: { width: 1920, height: 1080 },
      },
    },

    {
      name: "firefox",
      use: {
        ...devices["Desktop Firefox"],
        viewport: { width: 1920, height: 1080 },
      },
    },

    {
      name: "webkit",
      use: {
        ...devices["Desktop Safari"],
        viewport: { width: 1920, height: 1080 },
      },
    },

    /* Mobile viewports */
    {
      name: "mobile-chrome",
      use: { ...devices["Pixel 5"] },
    },
    {
      name: "mobile-safari",
      use: { ...devices["iPhone 12"] },
    },

    /* Tablet */
    {
      name: "tablet",
      use: {
        ...devices["iPad Pro"],
        viewport: { width: 1024, height: 1366 },
      },
    },
  ],
});

3.2. DiretÃ³rio de Testes E2E
   âœ… DiretÃ³rio E2E EXISTE
   Arquivos de teste:
./tests/e2e/sac-flow.spec.ts
./tests/e2e/cet-flow.spec.ts
./tests/e2e/export-flow.spec.ts
./tests/e2e/price-flow.spec.ts
./tests/e2e/validator-flow.spec.ts
./packages/ui/test/e2e/comparison.spec.ts

3.3. Testes de Acessibilidade (axe-core)
   âœ… DiretÃ³rio A11y EXISTE
./tests/a11y/accessibility.spec.ts

3.4. DependÃªncias Playwright
   Verificando package.json:
   âœ… Playwright estÃ¡ nas dependÃªncias
package.json:    "test:e2e": "playwright test",
package.json:    "test:e2e:headed": "playwright test --headed",
package.json:    "test:e2e:ui": "playwright test --ui",
package.json:    "test:e2e:debug": "playwright test --debug",
package.json:    "test:e2e:chromium": "playwright test --project=chromium",
package.json:    "test:e2e:firefox": "playwright test --project=firefox",
package.json:    "test:e2e:webkit": "playwright test --project=webkit",
package.json:    "test:report": "playwright show-report test-results/html",
package.json:    "test:a11y": "playwright test tests/a11y",
package.json:    "@axe-core/playwright": "^4.11.0",
package.json:    "@playwright/test": "^1.56.1",
package.json:    "axe-playwright": "^2.2.2",

3.5. DependÃªncias axe-core
   âœ… axe-core estÃ¡ nas dependÃªncias
package.json:    "@axe-core/playwright": "^4.11.0",
package.json:    "axe-core": "^4.11.0",

ğŸ”„ 4. INTEGRAÃ‡ÃƒO CI/CD
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   âœ… CI workflow existe
   Buscando jobs de E2E:
  e2e-tests:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        browser: [chromium, firefox, webkit]
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
--
        run: pnpm test:e2e --project=${{ matrix.browser }}
      
      - name: Upload test results
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: playwright-report-${{ matrix.browser }}
          path: test-results/
          retention-days: 30

  # Job 4: Accessibility Tests
--
    needs: [build, e2e-tests, a11y-tests]
    if: github.ref == 'refs/heads/main'
    steps:
      - uses: actions/checkout@v4
      
      - name: Download build artifacts
        uses: actions/download-artifact@v4
        with:
          name: dist
          path: dist/
      

ğŸ“¦ 5. SCRIPTS DE TESTE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Scripts disponÃ­veis:
    "test": "pnpm -r --filter \"@finmath/*\" run test",
    "test:golden": "pnpm -F @finmath/engine test:golden",
    "test:e2e": "playwright test",
    "test:e2e:headed": "playwright test --headed",
    "test:e2e:ui": "playwright test --ui",
    "test:e2e:debug": "playwright test --debug",
    "test:e2e:chromium": "playwright test --project=chromium",
    "test:e2e:firefox": "playwright test --project=firefox",
    "test:e2e:webkit": "playwright test --project=webkit",
    "test:report": "playwright show-report test-results/html",

   âœ… Script test:e2e EXISTE
   âœ… Script test:a11y EXISTE

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           RESUMO FINAL                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š STATUS DA SPRINT 4 SEGUNDO O EXCEL:
   âœ… Acessibilidade (Design, Tokens, Foco, ARIA): 5/5 (100%)
   âŒ Testes E2E: 0/14 (0%)
   âš ï¸  TOTAL: 5/19 (60%)

ğŸ¯ PRÃ“XIMOS PASSOS PARA COMPLETAR 100%:
   1. Instalar Playwright: pnpm add -D @playwright/test
   2. Instalar axe-core: pnpm add -D @axe-core/playwright
   3. Criar playwright.config.ts
   4. Criar diretÃ³rio test/e2e/
   5. Implementar 15 testes E2E
   6. Criar diretÃ³rio test/a11y/
   7. Implementar testes de acessibilidade
   8. Adicionar E2E ao CI (.github/workflows/ci.yml)
   9. Gerar relatÃ³rio de acessibilidade
  10. Executar testes cross-browser

â±ï¸  ESTIMATIVA PARA CONCLUSÃƒO: 4-6 horas

